const { PrismaClient } = require('@prisma/client');
const prisma = new PrismaClient();

async function addProducts() {
    console.log('ðŸŒ± Adding more products...');

    // Get category IDs
    const categories = await prisma.category.findMany();
    const cleanserCat = categories.find(c => c.slug === 'cleanser');
    const acneCat = categories.find(c => c.slug === 'acne');
    const hydrationCat = categories.find(c => c.slug === 'hydration');
    const sunscreenCat = categories.find(c => c.slug === 'sunscreen');
    const antiagingCat = categories.find(c => c.slug === 'antiaging');
    const bodycareCat = categories.find(c => c.slug === 'bodycare');

    const newProducts = [
        // Cleanser category
        {
            name: 'Salicylic Acid Cleanser',
            slug: 'salicylic-acid-cleanser',
            description: 'Gentle foaming cleanser with 0.5% salicylic acid for daily acne prevention.',
            keyIngredients: ['Salicylic Acid 0.5%', 'Glycerin'],
            concentration: '0.5%',
            skinType: ['Oily', 'Acne-Prone'],
            whatItDoes: 'Cleanses while preventing breakouts',
            howToUse: 'Use morning and evening.',
            fullIngredients: 'Aqua, Cocamidopropyl Betaine, Salicylic Acid, Glycerin',
            price: 399,
            mrp: 549,
            size: '100ml',
            stock: 150,
            categoryId: cleanserCat.id,
            images: ['https://images.unsplash.com/photo-1556228578-0d85b1a4d571?w=400'],
            thumbnailUrl: 'https://images.unsplash.com/photo-1556228578-0d85b1a4d571?w=400',
            featured: true,
            isActive: true,
        },
        {
            name: 'Gentle Cream Cleanser',
            slug: 'gentle-cream-cleanser',
            description: 'Ultra-gentle cream cleanser for sensitive skin.',
            keyIngredients: ['Ceramides', 'Squalane'],
            concentration: null,
            skinType: ['Dry', 'Sensitive'],
            whatItDoes: 'Gently removes impurities',
            howToUse: 'Massage onto damp skin.',
            fullIngredients: 'Aqua, Glycerin, Ceramides, Squalane',
            price: 449,
            mrp: 599,
            size: '100ml',
            stock: 120,
            categoryId: cleanserCat.id,
            images: ['https://images.unsplash.com/photo-1571875257727-256c39da42af?w=400'],
            thumbnailUrl: 'https://images.unsplash.com/photo-1571875257727-256c39da42af?w=400',
            featured: false,
            isActive: true,
        },
        {
            name: 'Niacinamide Toner',
            slug: 'niacinamide-toner',
            description: 'Clarifying toner with 5% niacinamide.',
            keyIngredients: ['Niacinamide 5%'],
            concentration: '5%',
            skinType: ['Oily', 'Combination'],
            whatItDoes: 'Minimizes pores, controls sebum',
            howToUse: 'Apply after cleansing.',
            fullIngredients: 'Aqua, Niacinamide, Zinc PCA',
            price: 449,
            mrp: 599,
            size: '150ml',
            stock: 180,
            categoryId: cleanserCat.id,
            images: ['https://images.unsplash.com/photo-1620916566398-39f1143ab7be?w=400'],
            thumbnailUrl: 'https://images.unsplash.com/photo-1620916566398-39f1143ab7be?w=400',
            featured: false,
            isActive: true,
        },
        // Acne category
        {
            name: 'Niacinamide 10% + Zinc 1%',
            slug: 'niacinamide-10-zinc-1',
            description: 'High-strength niacinamide for blemish control.',
            keyIngredients: ['Niacinamide 10%', 'Zinc 1%'],
            concentration: '10%',
            skinType: ['Oily', 'Acne-Prone'],
            whatItDoes: 'Reduces blemishes, minimizes pores',
            howToUse: 'Apply morning and evening.',
            fullIngredients: 'Aqua, Niacinamide, Zinc PCA',
            price: 599,
            mrp: 799,
            size: '30ml',
            stock: 150,
            categoryId: acneCat.id,
            images: ['https://images.unsplash.com/photo-1608248543803-ba4f8c70ae0b?w=400'],
            thumbnailUrl: 'https://images.unsplash.com/photo-1608248543803-ba4f8c70ae0b?w=400',
            featured: true,
            isActive: true,
        },
        {
            name: 'Azelaic Acid 10%',
            slug: 'azelaic-acid-10',
            description: 'Treatment for acne and hyperpigmentation.',
            keyIngredients: ['Azelaic Acid 10%'],
            concentration: '10%',
            skinType: ['Oily', 'Acne-Prone'],
            whatItDoes: 'Reduces acne, fades dark spots',
            howToUse: 'Apply once or twice daily.',
            fullIngredients: 'Aqua, Azelaic Acid, Glycerin',
            price: 649,
            mrp: 849,
            size: '30ml',
            stock: 90,
            categoryId: acneCat.id,
            images: ['https://images.unsplash.com/photo-1556228841-a5c4c2a19d96?w=400'],
            thumbnailUrl: 'https://images.unsplash.com/photo-1556228841-a5c4c2a19d96?w=400',
            featured: false,
            isActive: true,
        },
        // Hydration category  
        {
            name: 'Ceramide Barrier Cream',
            slug: 'ceramide-barrier-cream',
            description: 'Rich moisturizer for barrier repair.',
            keyIngredients: ['Ceramides', 'Cholesterol'],
            concentration: null,
            skinType: ['Dry', 'Sensitive'],
            whatItDoes: 'Repairs skin barrier',
            howToUse: 'Apply morning and evening.',
            fullIngredients: 'Aqua, Ceramides, Cholesterol',
            price: 699,
            mrp: 899,
            size: '50ml',
            stock: 85,
            categoryId: hydrationCat.id,
            images: ['https://images.unsplash.com/photo-1556228720-195a672e8a03?w=400'],
            thumbnailUrl: 'https://images.unsplash.com/photo-1556228720-195a672e8a03?w=400',
            featured: false,
            isActive: true,
        },
        {
            name: 'Squalane 100%',
            slug: 'squalane-100',
            description: 'Pure plant-derived squalane oil.',
            keyIngredients: ['Squalane 100%'],
            concentration: '100%',
            skinType: ['All Skin Types'],
            whatItDoes: 'Locks in moisture',
            howToUse: 'Apply 2-3 drops to face.',
            fullIngredients: 'Squalane',
            price: 599,
            mrp: 799,
            size: '30ml',
            stock: 120,
            categoryId: hydrationCat.id,
            images: ['https://images.unsplash.com/photo-1608248597279-f99d160bfcbc?w=400'],
            thumbnailUrl: 'https://images.unsplash.com/photo-1608248597279-f99d160bfcbc?w=400',
            featured: false,
            isActive: true,
        },
        // Sunscreen category
        {
            name: 'Mineral SPF 30 Tinted',
            slug: 'mineral-spf-30-tinted',
            description: '100% mineral sunscreen with tint.',
            keyIngredients: ['Zinc Oxide 15%'],
            concentration: 'SPF 30',
            skinType: ['All Skin Types'],
            whatItDoes: 'Physical sun protection',
            howToUse: 'Apply before sun exposure.',
            fullIngredients: 'Aqua, Zinc Oxide, Iron Oxides',
            price: 649,
            mrp: 849,
            size: '50ml',
            stock: 80,
            categoryId: sunscreenCat.id,
            images: ['https://images.unsplash.com/photo-1571875257727-256c39da42af?w=400'],
            thumbnailUrl: 'https://images.unsplash.com/photo-1571875257727-256c39da42af?w=400',
            featured: false,
            isActive: true,
        },
        {
            name: 'Ultra-Light SPF 50+',
            slug: 'ultra-light-spf-50',
            description: 'Invisible finish for oily skin.',
            keyIngredients: ['Tinosorb M'],
            concentration: 'SPF 50+',
            skinType: ['Oily', 'Combination'],
            whatItDoes: 'Matte finish sun protection',
            howToUse: 'Apply 15 minutes before sun.',
            fullIngredients: 'Aqua, Tinosorb M, Silica',
            price: 549,
            mrp: 749,
            size: '50ml',
            stock: 130,
            categoryId: sunscreenCat.id,
            images: ['https://images.unsplash.com/photo-1556228841-a5c4c2a19d96?w=400'],
            thumbnailUrl: 'https://images.unsplash.com/photo-1556228841-a5c4c2a19d96?w=400',
            featured: false,
            isActive: true,
        },
        // Anti-aging category
        {
            name: 'Retinol 0.5% in Squalane',
            slug: 'retinol-05-squalane',
            description: 'Moderate-strength retinol for fine lines.',
            keyIngredients: ['Retinol 0.5%'],
            concentration: '0.5%',
            skinType: ['Normal', 'Dry'],
            whatItDoes: 'Reduces fine lines, improves texture',
            howToUse: 'Apply in PM only. Use SPF daily.',
            fullIngredients: 'Squalane, Retinol',
            price: 899,
            mrp: 1199,
            size: '30ml',
            stock: 60,
            categoryId: antiagingCat.id,
            images: ['https://images.unsplash.com/photo-1556228720-195a672e8a03?w=400'],
            thumbnailUrl: 'https://images.unsplash.com/photo-1556228720-195a672e8a03?w=400',
            featured: true,
            isActive: true,
        },
        {
            name: 'Vitamin C 23% + HA',
            slug: 'vitamin-c-23-ha',
            description: 'High-strength vitamin C for brightening.',
            keyIngredients: ['L-Ascorbic Acid 23%'],
            concentration: '23%',
            skinType: ['Normal', 'Dry'],
            whatItDoes: 'Brightens, protects from free radicals',
            howToUse: 'Apply in AM or PM.',
            fullIngredients: 'Ascorbic Acid, Squalane',
            price: 849,
            mrp: 1099,
            size: '30ml',
            stock: 55,
            categoryId: antiagingCat.id,
            images: ['https://images.unsplash.com/photo-1556228578-8c89e6adf883?w=400'],
            thumbnailUrl: 'https://images.unsplash.com/photo-1556228578-8c89e6adf883?w=400',
            featured: false,
            isActive: true,
        },
        // Body care category
        {
            name: 'Glycolic Acid 7% Body Lotion',
            slug: 'glycolic-body-lotion',
            description: 'Exfoliating body lotion for smooth skin.',
            keyIngredients: ['Glycolic Acid 7%'],
            concentration: '7%',
            skinType: ['All Skin Types'],
            whatItDoes: 'Exfoliates dead skin',
            howToUse: 'Apply after shower.',
            fullIngredients: 'Aqua, Glycolic Acid, Shea Butter',
            price: 649,
            mrp: 849,
            size: '200ml',
            stock: 100,
            categoryId: bodycareCat.id,
            images: ['https://images.unsplash.com/photo-1556228578-0d85b1a4d571?w=400'],
            thumbnailUrl: 'https://images.unsplash.com/photo-1556228578-0d85b1a4d571?w=400',
            featured: false,
            isActive: true,
        },
        {
            name: 'Rich Body Cream',
            slug: 'rich-body-cream',
            description: 'Intensive moisturizer for very dry skin.',
            keyIngredients: ['Ceramides', 'Urea 5%'],
            concentration: null,
            skinType: ['Very Dry'],
            whatItDoes: 'Deeply moisturizes, repairs barrier',
            howToUse: 'Apply after bathing.',
            fullIngredients: 'Aqua, Urea, Ceramides',
            price: 599,
            mrp: 799,
            size: '200ml',
            stock: 120,
            categoryId: bodycareCat.id,
            images: ['https://images.unsplash.com/photo-1556228720-195a672e8a03?w=400'],
            thumbnailUrl: 'https://images.unsplash.com/photo-1556228720-195a672e8a03?w=400',
            featured: false,
            isActive: true,
        },
    ];

    for (const product of newProducts) {
        try {
            await prisma.product.upsert({
                where: { slug: product.slug },
                update: product,
                create: product,
            });
            console.log(`âœ… Added: ${product.name}`);
        } catch (error) {
            console.log(`âš ï¸ Skipped ${product.name}: ${error.message}`);
        }
    }

    console.log('ðŸŽ‰ Products added!');
    await prisma.$disconnect();
}

addProducts()
    .catch(console.error)
    .finally(() => process.exit());
